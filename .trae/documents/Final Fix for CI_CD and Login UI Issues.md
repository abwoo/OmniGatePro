# 彻底修复 CI/CD 失败与登录 UI 问题

## 1. 后端与 CI 修复
- **CI 环境变量**：在 `ci.yml` 中为测试步骤添加 `DEBUG: "True"`，解决 CSRF 校验导致的 `403` 测试失败。
- **依赖锁定**：在 `requirements.txt` 中显式添加 `pytest-asyncio` 和 `anyio`，确保测试环境一致性。
- **CORS 增强**：在 `main.py` 中增加对 `127.0.0.1` 等本地回环地址的显式允许，解决部分浏览器下的登录拦截。

## 2. 前端环境适配
- **动态 API 地址**：重构 `api.ts`，增加连接失败重试逻辑，并支持在前端界面动态切换后端 API 地址（解决 GitHub Pages 连接难题）。
- **版本哈希注入**：在 `deploy.yml` 中注入构建时间戳，强制浏览器刷新缓存，确保 UI 修改立即生效。

## 3. 像素级 UI 重构
- **Flex 布局替换**：在 `LoginPage.tsx` 中移除不稳定的绝对定位图标方案，改用 `flex-group` 容器，确保图标与文本完美对齐。
- **视觉增强**：增加输入框 Focus 状态的 Apple 风格外发光效果，优化滑块验证码的轨迹算法。

## 4. 账号系统自检
- **预置账号校验**：确保 `admin@example.com` 账号在数据库初始化时被正确创建，并使用 `bcrypt` 12 轮加密。
